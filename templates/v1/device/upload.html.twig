{# templates/default/upload.html.twig #}
{% extends 'overview/overview.html.twig' %}

  {% block navigation %}
      {% if app.user.permission == 4 %}
          <li><a href="{{ path('admin_client_settings', {clientId: clientId}) }}" class="icon_settings">Podešavanja</a></li>
          <li><a href="{{ path('admin_overview') }}" class="icon_users">Klijenti</a></li>
      {% endif %}

      {% if app.user.permission >= 2 %}
          <li><a href="{{ path('app_device_list', {clientId: clientId}) }}" class="icon_monitor">Mjerni uređaji</a></li>
          <li><a href="{{ path('app_clientftp_read', {clientId: clientId}) }}" class="icon_bookmark">FTP podaci</a></li>
          <li><a href="{{ path('app_user_getusers', {clientId: clientId}) }}" class="icon_users">Korisnici</a></li>
          <li><a href="{{ path('app_loginlog_getloginlogs', {clientId: clientId}) }}" class="icon_article">Dnevnik prijava</a></li>
      {% endif %}

      {% if app.user.permission == 5 %}
          <li><a href="{{ path('image_upload_form', {clientId: clientId}) }}" class="icon_monitor">Upload slike za klijenta</a></li>
          <li><a href="{{ path('image_index', {clientId: clientId}) }}" class="icon_monitor">Pregled slika za klijenta</a></li>
      {% endif %}

      <li><a href="{{ path('app_logout') }}" class="icon_logout">Odjava</a></li>
  {% endblock %}
    {% block content %}

{#        <form action="{{ path('image_save') }}" method="post" enctype="multipart/form-data">#}
{#            <label for="image">Upload Image (JPEG, PNG file):</label>#}
{#            <input type="file" id="image" name="image" accept="image/jpeg,image/png">#}
{#            <input type="hidden" id="clientId" name="clientId" value="{{ clientId }}">#}
{#            <button type="submit">Upload</button>#}
{#        </form>#}

        <form action="{{ path('image_save') }}" method="post" enctype="multipart/form-data" style="max-width: 400px; margin: 0 auto; padding: 20px;margin-top: 25px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <div style="margin-bottom: 15px;">
                <label for="image" style="display: block; font-weight: bold;color: #2a3139; margin-bottom: 5px;">Upload Image (JPEG, PNG file):</label>
                <input type="file" id="image" name="image" accept="image/jpeg,image/png" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            <input type="hidden" id="clientId" name="clientId" value="{{ clientId }}">
            <button type="submit" style="display: block; width: 100%; padding: 10px; background:url('/assets/images/userbar_bg.png') top repeat-x; color: white; border: none; border-radius: 4px; cursor: pointer;">Upload</button>
        </form>


        {% if app.request.query.get('uploaded') == 'true' %}
            <p>Image uploaded successfully!</p>
        {% endif %}

    {% endblock %}